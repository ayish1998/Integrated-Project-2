<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>JobInsight</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">
    <!-- Boostrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
    <!-- Stylesheet -->


    <link rel="stylesheet" href="../CSS/digitalasset.css">
    <link rel="stylesheet" href="../CSS/utils.css">


    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="../JS/digitalasset.js"></script>

</head>

<body>
    <!-- navbar starts here-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-success pt-3 px-3 fixed-top">
        <div class="container-fluid">
            <!--Logo and name-->
            <a class="navbar-brand" href="../index.html">
                <img src="../IMAGES/logo.png" alt="logo" width="60" height="60"
                    class="d-inline-block align-text-center" /> Job
                <span>Insights</span>
            </a>
            <!--Toggler-->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <!--Nav items-->
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">Home</a>
                    </li>
                    <!--Data dropdown-->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle active" aria-current="page" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Data </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" href="../HTML/job.html">Job</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li>
                                <a class="dropdown-item" href="../HTML/weather.html">Weather</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li>
                                <a class="dropdown-item" href="../HTML/financial.html">Financial</a>
                            </li>
                        </ul>
                    </li>
                    <!--Tutorials dropdown-->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Tutorials </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" href="../HTML/jobtutorial.html">Job Tutorial</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li>
                                <a class="dropdown-item" href="../HTML/weathertutorial.html">Weather Tutorial</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li>
                                <a class="dropdown-item" href="../HTML/finacialtutorial.html">Financial Tutorial</a>
                            </li>
                        </ul>
                    </li>
                    <!--Tutotrials dropdown ends here-->
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="../HTML/Newsletter.html">Newsletter</a>
                    </li>
                    <!--About dropdown-->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            About </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" href="../HTML/website.html">Website</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li>
                                <a class="dropdown-item" href="../HTML/author.html">Developers</a>
                            </li>
                        </ul>
                    </li>
                    <!--About dropdown ends here-->
                    <li class="nav-item">
                        <a class="nav-link" href="../PHP/contact.php">Contact Us</a>
                    </li>
                </ul>


            </div>
        </div>
        </div>
    </nav>
    <!--navbar ends here-->




    <body>
        <div class="container">
            <header class="mt-5 text-center">
                <h1> Trends and Opportunities</h1>
            </header>

            <!-- Section 1 on Page 2 -->
            <section class="extra-spacing mt-5">
                <h2>Visualizes Historical Asset stock data for a specific AAPL </h2>
                <p>This Provide a clear and accessible visual overview of historical stock data,
                    enabling investors and traders to assess the stock's performance,
                    make informed decisions, and gain valuable insights for their investment strategies.
                    The chart offers interactivity through hover effects and tooltips,
                    enhancing the user experience.
                    Traders can interact with the chart to explore specific data points, enabling a deeper understanding
                    of the stock's behavior on particular dates.</p>
            </section>

            <!-- Chart Section -->
            <section class="chart-section mt-5">
                <h2 class="text-center"> Grouped Bar Chart</h2>
                <div class="row justify-content-center">
                    <div class="col-lg-6">
                        <div class="chart-description">
                            <p>This is a Grouped bar chart created using d3.js. It displays some sample data with visual
                                representation of multiple bars for each date,
                                each representing different data points related to the stock, allows investors and
                                traders to analyze the high, low, open, close, and volume values of the stock for
                                different dates.
                                It helps in understanding how the stock price and trading volume have fluctuated over
                                time, identifying trends, and spotting potential patterns or correlations.
                                the chart aims to provide insights and information to investors and traders.

                            </p>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div id="chart-container"></div>
                        <div id="tooltip"></div>
                    </div>
                </div>
            </section>

            <!-- Section 2 on Page 2 -->
            <section class="extra-spacing mt-5">
                <h2>Visualizes the historical data Of Assets.</h2>
                <p>The purpose of the chart is to s to provide an intuitive and visually engaging representation of
                    the historical assets data for the specified period.
                    The chart enables the following allows users to quickly grasp the overall trend of the asset
                    price over the given period.
                    The size of the bubbles provides a visual representation of trading volume, and the x-axis
                    position shows the average price,
                    enabling easy identification of periods with higher or lower trading activities
                </p>
            </section>

            <!-- Chart Section -->
            <section class="chart-section mt-5">
                <h2 class="text-center">Bubble Chart </h2>
                <div class="row justify-content-center">
                    <div class="col-lg-6">
                        <div class="chart-description">
                            <p>This is a Bubble Chart created using D3.js. It displays some sample data of comparing the
                                size of bubbles and their positions along the x-axis,
                                users can compare the trading volume and price range for different dates,
                                allowing for analysis of assets behavior and potential patterns.
                                the chart enhances user engagement and allows for exploration of data by
                                hovering and clicking on bubbles to obtain detailed information.</p>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div id="chart-containerrr"></div>
                        <div id="tooltips"></div>
                    </div>
                </div>
            </section>
        </div>





        <script>

            // Sample data for the market cap graph

            async function fetchData() {
                try {
                    const url = 'https://investing4.p.rapidapi.com/stock/historical-data';
                    const options = {
                        method: 'POST',
                        headers: {
                            'content-type': 'application/json',
                            'X-RapidAPI-Key': '24dbfe44c4msha0165c201d9d8b4p10f359jsn843b7d2bdb3a',
                            'X-RapidAPI-Host': 'investing4.p.rapidapi.com'
                        },
                        body: JSON.stringify({
                            country: 'united states',
                            symbol: 'AAPL'
                        })
                    };

                    const response = await fetch(url, options);
                    const result = await response.json();
                    console.log(result);

                    const data = result.data.map((item) => ({
                        date: item.Date,
                        high: parseFloat(item.High),
                        low: parseFloat(item.Low),
                        open: parseFloat(item.Open),
                        close: parseFloat(item.Price),
                        volume: parseFloat(item['Vol.'].replace('M', ''))
                    }));

                    // Define the dimensions of the chart
                    const width = 900;
                    const height = 500;
                    const margin = { top: 50, right: 50, bottom: 50, left: 50 };
                    const innerWidth = width - margin.left - margin.right;
                    const innerHeight = height - margin.top - margin.bottom;

                    // Create the SVG container for the chart
                    const svg = d3.select("#chart-container")
                        .append("svg")
                        .attr("class", "chart")
                        .attr("width", width)
                        .attr("height", height);

                    const chartGroup = svg.append("g")
                        .attr("transform", `translate(${margin.left},${margin.top})`);

                    // Define the x-scale and y-scale for the chart
                    const x0Scale = d3.scaleBand()
                        .domain(data.map((d) => d.date))
                        .rangeRound([0, innerWidth])
                        .paddingInner(0.1);

                    const x1Scale = d3.scaleBand()
                        .domain(['High', 'Low', 'Open', 'Close', 'Volume'])
                        .rangeRound([0, x0Scale.bandwidth()])
                        .padding(0.05);

                    const yScale = d3.scaleLinear()
                        .domain([0, d3.max(data, (d) => Math.max(d.high, d.low, d.open, d.close, d.volume))])
                        .rangeRound([innerHeight, 0]);

                    // Create the grouped bars
                    const bars = chartGroup.selectAll("g")
                        .data(data)
                        .enter()
                        .append("g")
                        .attr("transform", (d) => `translate(${x0Scale(d.date)},0)`)
                        .selectAll("rect")
                        .data((d) => [
                            { type: 'High', value: d.high },
                            { type: 'Low', value: d.low },
                            { type: 'Open', value: d.open },
                            { type: 'Close', value: d.close },
                            { type: 'Volume', value: d.volume }
                        ])
                        .enter()
                        .append("rect")
                        .attr("x", (d) => x1Scale(d.type))
                        .attr("y", innerHeight)
                        .attr("width", x1Scale.bandwidth())
                        .attr("height", 0)
                        .attr("fill", (d) => {
                            if (d.type === 'High') return 'steelblue';
                            if (d.type === 'Low') return 'green';
                            if (d.type === 'Open') return 'orange';
                            if (d.type === 'Close') return 'purple';
                            if (d.type === 'Volume') return 'gray';
                        })
                        .on("mouseover", handleBarMouseOver)
                        .on("mouseout", handleBarMouseOut)
                        .transition()
                        .duration(800)
                        .delay((d, i) => i * 100)
                        .attr("y", (d) => yScale(d.value))
                        .attr("height", (d) => innerHeight - yScale(d.value));

                    function handleBarMouseOver(event, d) {
                        d3.select(this)
                            .attr("fill", "red");

                        const tooltip = d3.select("#tooltip");
                        tooltip.style("opacity", 1)
                            .style("left", event.pageX + "px")
                            .style("top", event.pageY + "px")
                            .html(`
              <strong>Date:</strong> ${d3.select(this.parentNode).datum().date}<br>
              <strong>Type:</strong> ${d.type}<br>
              <strong>Value:</strong> ${d.value}
            `);
                    }

                    function handleBarMouseOut() {
                        d3.select(this)
                            .attr("fill", (d) => {
                                if (d.type === 'High') return 'steelblue';
                                if (d.type === 'Low') return 'green';
                                if (d.type === 'Open') return 'orange';
                                if (d.type === 'Close') return 'purple';
                                if (d.type === 'Volume') return 'gray';
                            });

                        const tooltip = d3.select("#tooltip");
                        tooltip.style("opacity", 0);
                    }

                    // Add axis labels and title
                    svg.append("g")
                        .attr("class", "x-axis")
                        .attr("transform", `translate(${margin.left},${margin.top + innerHeight})`)
                        .call(d3.axisBottom(x0Scale))
                        .selectAll("text")
                        .style("text-anchor", "end")
                        .attr("transform", "rotate(-45)");

                    svg.append("g")
                        .attr("class", "y-axis")
                        .attr("transform", `translate(${margin.left},${margin.top})`)
                        .call(d3.axisLeft(yScale));

                    svg.append("text")
                        .attr("class", "x-axis-label")
                        .attr("x", width / 2)
                        .attr("y", height - margin.bottom / 2)
                        .style("text-anchor", "middle")
                        .text("");

                    svg.append("text")
                        .attr("class", "y-axis-label")
                        .attr("x", -height / 2)
                        .attr("y", margin.left / 2)
                        .attr("transform", "rotate(-90)")
                        .style("text-anchor", "middle")
                        .text("Value");

                    svg.append("text")
                        .attr("class", "chart-title")
                        .attr("x", width / 2)
                        .attr("y", margin.top / 2)
                        .style("text-anchor", "middle")
                        .text("Historical price movement and volume trends");

                    // Add animations and transitions
                    bars.style("opacity", 0)
                        .transition()
                        .duration(800)
                        .delay((d, i) => i * 100)
                        .style("opacity", 1);
                } catch (error) {
                    console.error(error);
                }
            }

            fetchData();
        </script>





        <!--Footer-->

        <footer>
            <div class="container-fluid bg-success text-white p-4">
                <div class="row">
                    <div class="col-sm-5 col-md-5 col-lg-5 col-xl-5 pe-5">
                        <a class="navbar-brand" href="../index.html">
                            <img src="../IMAGES/logo.png" alt="logo" width="60" height="60"
                                class="d-inline-block align-text-center" />
                            Job<span>Insights</span></a>
                        <p>One-stop destination for global job, weather, and financial data and visualizations.
                            Explore the world of opportunities, stay updated with the latest weather forecasts, and keep track of
                            financial trends—all in one place.</p>
                    </div>
                    <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3 pt-3">
                        <h5 class="fw-bold">USEFUL LINKS</h5>
                        <ul style="list-style-type: square;">
                            <li><a href="../index.html">Home</a></li>
                            <li><a href="../HTML/job.html">Job Data</a></li>
                            <li><a href="../HTML/weather.html">Weather Data</a></li>
                            <li><a href="../HTML/financial.html">Financial Data</a></li>
                            <li><a href="../HTML/Newsletter.html">Newsletter</a></li>
                            <li><a href="../HTML/website.html">About Website</a></li>
                            <li><a href="../HTML/author.html">About Developers</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4 pt-3">
                        <h5 class="fw-bold">CONTACT</h5>
                        <p><i class="fa-solid fa-location-dot"></i> African Leadership College, Beau Plan,
                            Pamplemousses,
                            Mauritius</p>
                        <p><i class="fa-solid fa-envelope"></i> admin@jobinsights.com</p>
                        <p><i class="fa-solid fa-phone"></i> +23056789042</p>
                    </div>
                </div>
                <div class="row mx-auto d-flex justify-content-center pt-3">
                    <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4">
                        <p>We are here to make your career decision easier!
                            <br>Sign up for our Newsletter.
                        </p>
                    </div>
                    <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4 text-end">
                        <form class="d-block" action="../PHP/subscribe.php" method="post">
                            <input class="form-control me-2 mb-2" name="email" type="email" placeholder="Email Address"
                              aria-label="Email">
                            <button class="btn btn-secondary btn-outline-light" name="subscribe" type="submit">Subscribe</button>
                          </form>
                    </div>
                </div>
                <hr>
                <!--Social media links-->
                <div class="socials text-center">
                    <a class="btn btn-secondary btn-outline-light m-1" href="#"><i class="fab fa-facebook-f"
                            style="color: #3b5998;"></i></a>
                    <a class="btn btn-secondary btn-outline-light m-1" href="#"><i class="fab fa-google"
                            style="color: #dd4b39;"></i></a>
                    <a class="btn btn-secondary btn-outline-light m-1" href="#"><i class="fab fa-instagram"
                            style="color: #ac2bac;"></i></a>
                    <a class="btn btn-secondary btn-outline-light m-1" href="#"><i class="fab fa-linkedin-in"
                            style="color: #0082ca;"></i></a>
                </div>
            </div>
            <div class="text-white text-center p-4" style="background-color: #6c757d;">
                © 2023 Copyright:
                <a class="fw-bold" href="../index.html">Job Insights</a>
            </div>
        </footer>


        <!--scripts-->
        <!--Jquery-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <!--Bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
            crossorigin="anonymous"></script>

    </body>

</html>